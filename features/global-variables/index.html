



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="ApiMeter User Documentation">
      
      
      
        <meta name="author" content="debugtalk">
      
      
        <meta name="lang:clipboard.copy" content="å¤åˆ¶">
      
        <meta name="lang:clipboard.copied" content="å·²å¤åˆ¶">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœ">
      
        <meta name="lang:search.result.one" content="æ‰¾åˆ° 1 ä¸ªç¬¦åˆæ¡ä»¶çš„ç»“æœ">
      
        <meta name="lang:search.result.other" content="# ä¸ªç¬¦åˆæ¡ä»¶çš„ç»“æœ">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-3.3.0">
    
    
      
        <title>å…¨å±€å˜é‡å®Œæ•´æŒ‡å— - ApiMeter Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114587036-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-114587036-2")</script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="1" class="md-skip">
        è·³è½¬è‡³
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ApiMeter Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon">î Œ</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ApiMeter Docs
              </span>
              <span class="md-header-nav__topic">
                å…¨å±€å˜é‡å®Œæ•´æŒ‡å—
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            é”®å…¥ä»¥å¼€å§‹æœç´¢
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://git.umlife.net/utils/apimeter" title="å‰å¾€ Github ä»“åº“" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      ApiMeter
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="ApiMeter Docs" class="md-nav__button md-logo">
      
        <i class="md-icon">î Œ</i>
      
    </a>
    ApiMeter Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://git.umlife.net/utils/apimeter" title="å‰å¾€ Github ä»“åº“" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      ApiMeter
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ä»‹ç»" class="md-nav__link">
      ä»‹ç»
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Installation/" title="å®‰è£…è¯´æ˜" class="md-nav__link">
      å®‰è£…è¯´æ˜
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      åŸºç¡€æ¦‚å¿µ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        åŸºç¡€æ¦‚å¿µ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../concept/nominal/" title="åè¯è§£é‡Š" class="md-nav__link">
      åè¯è§£é‡Š
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      æµ‹è¯•å‡†å¤‡
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        æµ‹è¯•å‡†å¤‡
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/record/" title="å½•åˆ¶ç”Ÿæˆç”¨ä¾‹" class="md-nav__link">
      å½•åˆ¶ç”Ÿæˆç”¨ä¾‹
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/project-structure/" title="é¡¹ç›®æ–‡ä»¶ç»„ç»‡" class="md-nav__link">
      é¡¹ç›®æ–‡ä»¶ç»„ç»‡
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/testcase-structure/" title="æµ‹è¯•ç”¨ä¾‹ç»„ç»‡" class="md-nav__link">
      æµ‹è¯•ç”¨ä¾‹ç»„ç»‡
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/request-hook/" title="hookæœºåˆ¶" class="md-nav__link">
      hookæœºåˆ¶
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/dot-env/" title="ç¯å¢ƒå˜é‡" class="md-nav__link">
      ç¯å¢ƒå˜é‡
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/testcase-layer/" title="æµ‹è¯•ç”¨ä¾‹åˆ†å±‚" class="md-nav__link">
      æµ‹è¯•ç”¨ä¾‹åˆ†å±‚
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/parameters/" title="å‚æ•°åŒ–æ•°æ®é©±åŠ¨" class="md-nav__link">
      å‚æ•°åŒ–æ•°æ®é©±åŠ¨
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/validate/" title="æ ¡éªŒå™¨ç”¨æ³•" class="md-nav__link">
      æ ¡éªŒå™¨ç”¨æ³•
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/script/" title="è‡ªå®šä¹‰è„šæœ¬æ ¡éªŒ" class="md-nav__link">
      è‡ªå®šä¹‰è„šæœ¬æ ¡éªŒ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/pretty/" title="ç”¨ä¾‹æ ¼å¼åŒ–" class="md-nav__link">
      ç”¨ä¾‹æ ¼å¼åŒ–
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/yaml-issue/" title="å¸¸è§æ ¼å¼é—®é¢˜" class="md-nav__link">
      å¸¸è§æ ¼å¼é—®é¢˜
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/security/" title="ä¿¡æ¯å®‰å…¨" class="md-nav__link">
      ä¿¡æ¯å®‰å…¨
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../prepare/upload-case/" title="æ–‡ä»¶ä¸Šä¼ åœºæ™¯" class="md-nav__link">
      æ–‡ä»¶ä¸Šä¼ åœºæ™¯
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      æµ‹è¯•æ‰§è¡Œ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        æµ‹è¯•æ‰§è¡Œ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/cli/" title="è¿è¡Œæµ‹è¯•(CLI)" class="md-nav__link">
      è¿è¡Œæµ‹è¯•(CLI)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/report/" title="æµ‹è¯•æŠ¥å‘Š" class="md-nav__link">
      æµ‹è¯•æŠ¥å‘Š
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/load-test/" title="æ€§èƒ½æµ‹è¯•" class="md-nav__link">
      æ€§èƒ½æµ‹è¯•
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      å¼€å‘æ‰©å±•
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        å¼€å‘æ‰©å±•
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/architecture/" title="ä»£ç æ¡†æ¶" class="md-nav__link">
      ä»£ç æ¡†æ¶
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/dev-api/" title="å¼€å‘æ‰©å±•" class="md-nav__link">
      å¼€å‘æ‰©å±•
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      å®è·µæ¡ˆä¾‹
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        å®è·µæ¡ˆä¾‹
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/quickstart-case/" title="å¿«é€Ÿä¸Šæ‰‹æ¡ˆä¾‹" class="md-nav__link">
      å¿«é€Ÿä¸Šæ‰‹æ¡ˆä¾‹
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/testerhome-login/" title="TesterHome ç™»å½•" class="md-nav__link">
      TesterHome ç™»å½•
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/demo-klook/" title="klook" class="md-nav__link">
      klook
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../related-docs/" title="ç›¸å…³èµ„æ–™" class="md-nav__link">
      ç›¸å…³èµ„æ–™
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CHANGELOG/" title="CHANGELOG" class="md-nav__link">
      CHANGELOG
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">ç›®å½•</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" title="ğŸ“š ç›®å½•" class="md-nav__link">
    ğŸ“š ç›®å½•
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡ï¼Ÿ" class="md-nav__link">
    ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡ï¼Ÿ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="å¯ç”¨çš„å…¨å±€å˜é‡åˆ—è¡¨" class="md-nav__link">
    å¯ç”¨çš„å…¨å±€å˜é‡åˆ—è¡¨
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" title="ğŸ“Š å“åº”çŠ¶æ€ç›¸å…³" class="md-nav__link">
    ğŸ“Š å“åº”çŠ¶æ€ç›¸å…³
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-status_code" title="1. status_code" class="md-nav__link">
    1. status_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-ok" title="2. ok" class="md-nav__link">
    2. ok
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-reason" title="3. reason" class="md-nav__link">
    3. reason
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-url" title="4. url" class="md-nav__link">
    4. url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="ğŸ“¦ å“åº”ä½“ç›¸å…³" class="md-nav__link">
    ğŸ“¦ å“åº”ä½“ç›¸å…³
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-content" title="5. content" class="md-nav__link">
    5. content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-body" title="6. body" class="md-nav__link">
    6. body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-json" title="7. json" class="md-nav__link">
    7. json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-text" title="8. text" class="md-nav__link">
    8. text
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="ğŸ“‹ å“åº”å¤´ç›¸å…³" class="md-nav__link">
    ğŸ“‹ å“åº”å¤´ç›¸å…³
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#9-headers" title="9. headers" class="md-nav__link">
    9. headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-cookies" title="10. cookies" class="md-nav__link">
    10. cookies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" title="â±ï¸ æ€§èƒ½ç›¸å…³" class="md-nav__link">
    â±ï¸ æ€§èƒ½ç›¸å…³
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-elapsed" title="11. elapsed" class="md-nav__link">
    11. elapsed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="ğŸ”§ ç¼–ç ç›¸å…³" class="md-nav__link">
    ğŸ”§ ç¼–ç ç›¸å…³
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#12-encoding" title="12. encoding" class="md-nav__link">
    12. encoding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" title="ğŸ“¡ å®Œæ•´å“åº”å¯¹è±¡" class="md-nav__link">
    ğŸ“¡ å®Œæ•´å“åº”å¯¹è±¡
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#13-response" title="13. response" class="md-nav__link">
    13. response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" title="é“¾å¼å–å€¼è¯¦è§£" class="md-nav__link">
    é“¾å¼å–å€¼è¯¦è§£
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" title="ä»€ä¹ˆæ˜¯é“¾å¼å–å€¼ï¼Ÿ" class="md-nav__link">
    ä»€ä¹ˆæ˜¯é“¾å¼å–å€¼ï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" title="åŸºç¡€é“¾å¼å–å€¼" class="md-nav__link">
    åŸºç¡€é“¾å¼å–å€¼
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" title="æ•°ç»„ç´¢å¼•è®¿é—®" class="md-nav__link">
    æ•°ç»„ç´¢å¼•è®¿é—®
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" title="æ··åˆè®¿é—®" class="md-nav__link">
    æ··åˆè®¿é—®
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" title="é“¾å¼å–å€¼çš„ç±»å‹å®‰å…¨" class="md-nav__link">
    é“¾å¼å–å€¼çš„ç±»å‹å®‰å…¨
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" title="å˜é‡è½¬ä¹‰åŠŸèƒ½" class="md-nav__link">
    å˜é‡è½¬ä¹‰åŠŸèƒ½
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" title="ä¸ºä»€ä¹ˆéœ€è¦å˜é‡è½¬ä¹‰ï¼Ÿ" class="md-nav__link">
    ä¸ºä»€ä¹ˆéœ€è¦å˜é‡è½¬ä¹‰ï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" title="è½¬ä¹‰è¯­æ³•" class="md-nav__link">
    è½¬ä¹‰è¯­æ³•
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" title="æ”¯æŒè½¬ä¹‰çš„å…¨å±€å˜é‡" class="md-nav__link">
    æ”¯æŒè½¬ä¹‰çš„å…¨å±€å˜é‡
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" title="å®Œæ•´ç¤ºä¾‹" class="md-nav__link">
    å®Œæ•´ç¤ºä¾‹
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vs" title="å…¨å±€å˜é‡ vs è‡ªå®šä¹‰å˜é‡" class="md-nav__link">
    å…¨å±€å˜é‡ vs è‡ªå®šä¹‰å˜é‡
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" title="å…¨å±€å˜é‡" class="md-nav__link">
    å…¨å±€å˜é‡
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" title="è‡ªå®šä¹‰å˜é‡" class="md-nav__link">
    è‡ªå®šä¹‰å˜é‡
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" title="æ··åˆä½¿ç”¨" class="md-nav__link">
    æ··åˆä½¿ç”¨
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" title="å¸¸è§ä½¿ç”¨åœºæ™¯" class="md-nav__link">
    å¸¸è§ä½¿ç”¨åœºæ™¯
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" title="åœºæ™¯ 1ï¼šåŸºç¡€å“åº”æ ¡éªŒ" class="md-nav__link">
    åœºæ™¯ 1ï¼šåŸºç¡€å“åº”æ ¡éªŒ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" title="åœºæ™¯ 2ï¼šæ€§èƒ½ç›‘æ§" class="md-nav__link">
    åœºæ™¯ 2ï¼šæ€§èƒ½ç›‘æ§
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" title="åœºæ™¯ 3ï¼šå¤æ‚æ•°æ®æ ¡éªŒ" class="md-nav__link">
    åœºæ™¯ 3ï¼šå¤æ‚æ•°æ®æ ¡éªŒ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" title="åœºæ™¯ 4ï¼šæ¡ä»¶æ ¡éªŒ" class="md-nav__link">
    åœºæ™¯ 4ï¼šæ¡ä»¶æ ¡éªŒ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5api" title="åœºæ™¯ 5ï¼šAPI ç‰ˆæœ¬å…¼å®¹" class="md-nav__link">
    åœºæ™¯ 5ï¼šAPI ç‰ˆæœ¬å…¼å®¹
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_26" title="æœ€ä½³å®è·µ" class="md-nav__link">
    æœ€ä½³å®è·µ
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-content" title="1. ä¼˜å…ˆä½¿ç”¨ content" class="md-nav__link">
    1. ä¼˜å…ˆä½¿ç”¨ content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" title="2. é“¾å¼å–å€¼å‰å…ˆæ£€æŸ¥å­˜åœ¨æ€§" class="md-nav__link">
    2. é“¾å¼å–å€¼å‰å…ˆæ£€æŸ¥å­˜åœ¨æ€§
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" title="3. ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯" class="md-nav__link">
    3. ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" title="4. æ€§èƒ½æ ¡éªŒè¦åˆç†" class="md-nav__link">
    4. æ€§èƒ½æ ¡éªŒè¦åˆç†
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" title="5. å˜é‡è½¬ä¹‰è°¨æ…ä½¿ç”¨" class="md-nav__link">
    5. å˜é‡è½¬ä¹‰è°¨æ…ä½¿ç”¨
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_27" title="å¸¸è§é—®é¢˜" class="md-nav__link">
    å¸¸è§é—®é¢˜
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q1-contentfield-contentfield" title="Q1: ä¸ºä»€ä¹ˆ content.field å’Œ content["field"] éƒ½å¯ä»¥ï¼Ÿ" class="md-nav__link">
    Q1: ä¸ºä»€ä¹ˆ content.field å’Œ content["field"] éƒ½å¯ä»¥ï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q2" title="Q2: å¦‚ä½•è®¿é—®å­—æ®µååŒ…å«ç‚¹å·æˆ–ç‰¹æ®Šå­—ç¬¦çš„å­—æ®µï¼Ÿ" class="md-nav__link">
    Q2: å¦‚ä½•è®¿é—®å­—æ®µååŒ…å«ç‚¹å·æˆ–ç‰¹æ®Šå­—ç¬¦çš„å­—æ®µï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q3-contentbodyjson" title="Q3: contentã€bodyã€json æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="md-nav__link">
    Q3: contentã€bodyã€json æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q4-json" title="Q4: å¦‚ä½•å¤„ç†å“åº”ä¸æ˜¯ JSON æ ¼å¼çš„æƒ…å†µï¼Ÿ" class="md-nav__link">
    Q4: å¦‚ä½•å¤„ç†å“åº”ä¸æ˜¯ JSON æ ¼å¼çš„æƒ…å†µï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q5-validate" title="Q5: å…¨å±€å˜é‡åœ¨ validate ä¸­å¯ä»¥ä½¿ç”¨å—ï¼Ÿ" class="md-nav__link">
    Q5: å…¨å±€å˜é‡åœ¨ validate ä¸­å¯ä»¥ä½¿ç”¨å—ï¼Ÿ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q6" title="Q6: å¦‚ä½•åœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Ÿ" class="md-nav__link">
    Q6: å¦‚ä½•åœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Ÿ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_28" title="ğŸ“ æ€»ç»“" class="md-nav__link">
    ğŸ“ æ€»ç»“
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              

                
                
                <h1 id="_1">å…¨å±€å˜é‡å®Œæ•´æŒ‡å—<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>ApiMeter æä¾›äº†å¼ºå¤§çš„å…¨å±€å˜é‡ç³»ç»Ÿï¼Œè®©ä½ å¯ä»¥åœ¨ <code>script</code> è„šæœ¬ä¸­ç›´æ¥è®¿é—®å“åº”æ•°æ®ï¼Œæ— éœ€ç‰¹æ®Šè¯­æ³•ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»æ‰€æœ‰å¯ç”¨çš„å…¨å±€å˜é‡åŠå…¶é«˜çº§ç”¨æ³•ã€‚</p>
<h2 id="_2">ğŸ“š ç›®å½•<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡">ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡ï¼Ÿ</a></li>
<li><a href="#å¯ç”¨çš„å…¨å±€å˜é‡åˆ—è¡¨">å¯ç”¨çš„å…¨å±€å˜é‡åˆ—è¡¨</a></li>
<li><a href="#é“¾å¼å–å€¼è¯¦è§£">é“¾å¼å–å€¼è¯¦è§£</a></li>
<li><a href="#å˜é‡è½¬ä¹‰åŠŸèƒ½">å˜é‡è½¬ä¹‰åŠŸèƒ½</a></li>
<li><a href="#å…¨å±€å˜é‡-vs-è‡ªå®šä¹‰å˜é‡">å…¨å±€å˜é‡ vs è‡ªå®šä¹‰å˜é‡</a></li>
<li><a href="#å¸¸è§ä½¿ç”¨åœºæ™¯">å¸¸è§ä½¿ç”¨åœºæ™¯</a></li>
<li><a href="#æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</a></li>
<li><a href="#å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</a></li>
</ul>
<h2 id="_3">ä»€ä¹ˆæ˜¯å…¨å±€å˜é‡ï¼Ÿ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p><strong>å…¨å±€å˜é‡</strong> æ˜¯ ApiMeter åœ¨ <code>script</code> è„šæœ¬æ‰§è¡Œæ—¶è‡ªåŠ¨æ³¨å…¥çš„å“åº”ç›¸å…³å˜é‡ã€‚ä½ å¯ä»¥ç›´æ¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨è¿™äº›å˜é‡ï¼Œæ— éœ€ä»»ä½•å‰ç¼€æˆ–ç‰¹æ®Šè¯­æ³•ã€‚</p>
<p><strong>å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ ä¼ ç»Ÿ validate æ–¹å¼</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;status_code&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">200</span><span class="p p-Indicator">]</span><span class="w">           </span><span class="c1"># éœ€è¦ç”¨å­—ç¬¦ä¸²è¡¨ç¤º</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;content.token&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;xxx&quot;</span><span class="p p-Indicator">]</span><span class="w">       </span><span class="c1"># å­—æ®µè®¿é—®éœ€è¦ç‚¹å·å­—ç¬¦ä¸²</span>

<span class="c1"># âœ… ApiMeter script æ–¹å¼</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span><span class="w">          </span><span class="c1"># ç›´æ¥ä½¿ç”¨å˜é‡</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.token == &quot;xxx&quot;</span><span class="w">      </span><span class="c1"># æ”¯æŒå¯¹è±¡å±æ€§è®¿é—®</span>
</code></pre></div>

<h2 id="_4">å¯ç”¨çš„å…¨å±€å˜é‡åˆ—è¡¨<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="_5">ğŸ“Š å“åº”çŠ¶æ€ç›¸å…³<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="1-status_code">1. <code>status_code</code><a class="headerlink" href="#1-status_code" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>int</code><br />
<strong>è¯´æ˜</strong>ï¼šHTTP å“åº”çŠ¶æ€ç </p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code in [200, 201, 202]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert 200 &lt;= status_code &lt; 300, f&quot;æœŸæœ›2xxçŠ¶æ€ç ï¼Œå®é™…</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">status_code</span><span class="p p-Indicator">}</span><span class="s">&quot;</span>
</code></pre></div>

<hr />
<h4 id="2-ok">2. <code>ok</code><a class="headerlink" href="#2-ok" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>bool</code><br />
<strong>è¯´æ˜</strong>ï¼šè¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆçŠ¶æ€ç  &lt; 400ï¼‰</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert ok is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert ok is True, &quot;è¯·æ±‚å¤±è´¥&quot;</span>

<span class="w">  </span><span class="c1"># æ¡ä»¶åˆ¤æ–­</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">if ok:</span>
<span class="w">        </span><span class="no">assert content.success is True</span>
<span class="w">    </span><span class="no">else:</span>
<span class="w">        </span><span class="no">assert content.error_code is not None</span>
</code></pre></div>

<hr />
<h4 id="3-reason">3. <code>reason</code><a class="headerlink" href="#3-reason" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>str</code><br />
<strong>è¯´æ˜</strong>ï¼šHTTP çŠ¶æ€ç å¯¹åº”çš„åŸå› çŸ­è¯­</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert reason == &quot;OK&quot;</span><span class="w">              </span><span class="c1"># 200 OK</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert reason == &quot;Created&quot;</span><span class="w">         </span><span class="c1"># 201 Created</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert reason == &quot;Not Found&quot;</span><span class="w">       </span><span class="c1"># 404 Not Found</span>
</code></pre></div>

<hr />
<h4 id="4-url">4. <code>url</code><a class="headerlink" href="#4-url" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>str</code><br />
<strong>è¯´æ˜</strong>ï¼šå®é™…è¯·æ±‚çš„å®Œæ•´ URLï¼ˆåŒ…å«é‡å®šå‘åçš„ URLï¼‰</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert url.startswith(&quot;https://&quot;)</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;api&quot; in url</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert url.endswith(&quot;/users/1001&quot;)</span>
</code></pre></div>

<hr />
<h3 id="_6">ğŸ“¦ å“åº”ä½“ç›¸å…³<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<h4 id="5-content">5. <code>content</code><a class="headerlink" href="#5-content" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>dict-like</code> ï¼ˆResponseFieldProxyï¼‰<br />
<strong>è¯´æ˜</strong>ï¼šå“åº”å†…å®¹ï¼Œè‡ªåŠ¨è§£æ JSONï¼ˆæœ€å¸¸ç”¨ï¼‰</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># åŸºç¡€è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.code == 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.message == &quot;success&quot;</span>

<span class="w">  </span><span class="c1"># é“¾å¼å–å€¼</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user.name == &quot;Alice&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user.profile.age &gt; 18</span>

<span class="w">  </span><span class="c1"># æ•°ç»„è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(content.items) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.items[0].id is not None</span>

<span class="w">  </span><span class="c1"># å­—å…¸è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;token&quot; in content</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content[&quot;token&quot;] is not None</span>
</code></pre></div>

<hr />
<h4 id="6-body">6. <code>body</code><a class="headerlink" href="#6-body" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>dict-like</code> ï¼ˆResponseFieldProxyï¼‰<br />
<strong>è¯´æ˜</strong>ï¼šä¸ <code>content</code> ç­‰ä»·ï¼ŒåŸå§‹å“åº”ä½“</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert body.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;token&quot; in body</span>
</code></pre></div>

<hr />
<h4 id="7-json">7. <code>json</code><a class="headerlink" href="#7-json" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>dict-like</code> ï¼ˆResponseFieldProxyï¼‰<br />
<strong>è¯´æ˜</strong>ï¼šä¸ <code>content</code> ç­‰ä»·ï¼ŒJSON å“åº”å†…å®¹</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert json.code == 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert json.data.user.name == &quot;Alice&quot;</span>
</code></pre></div>

<hr />
<h4 id="8-text">8. <code>text</code><a class="headerlink" href="#8-text" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>str</code><br />
<strong>è¯´æ˜</strong>ï¼šå“åº”çš„æ–‡æœ¬å†…å®¹ï¼ˆæœªè§£æçš„åŸå§‹å­—ç¬¦ä¸²ï¼‰</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(text) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;success&quot; in text</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert text.startswith(&quot;{&quot;)</span><span class="w">       </span><span class="c1"># JSON å“åº”</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert text.startswith(&quot;&lt;html&quot;)</span><span class="w">   </span><span class="c1"># HTML å“åº”</span>
</code></pre></div>

<hr />
<h3 id="_7">ğŸ“‹ å“åº”å¤´ç›¸å…³<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<h4 id="9-headers">9. <code>headers</code><a class="headerlink" href="#9-headers" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>dict-like</code><br />
<strong>è¯´æ˜</strong>ï¼šå“åº”å¤´ä¿¡æ¯</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># è®¿é—®å“åº”å¤´</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;Content-Type&quot;] == &quot;application/json&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;Server&quot; in headers</span>

<span class="w">  </span><span class="c1"># å¤§å°å†™ä¸æ•æ„Ÿ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;content-type&quot;] == &quot;application/json&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;Content-Type&quot;] == headers[&quot;content-type&quot;]</span>

<span class="w">  </span><span class="c1"># å¸¸è§å“åº”å¤´æ£€æŸ¥</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;application/json&quot; in headers[&quot;Content-Type&quot;]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers.get(&quot;Cache-Control&quot;) is not None</span>
</code></pre></div>

<hr />
<h4 id="10-cookies">10. <code>cookies</code><a class="headerlink" href="#10-cookies" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>dict-like</code><br />
<strong>è¯´æ˜</strong>ï¼šCookie ä¿¡æ¯</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># æ£€æŸ¥ Cookie æ˜¯å¦å­˜åœ¨</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;session_id&quot; in cookies</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert cookies[&quot;session_id&quot;] is not None</span>

<span class="w">  </span><span class="c1"># Cookie å€¼æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(cookies[&quot;session_id&quot;]) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert cookies.get(&quot;user_id&quot;) is not None</span>
</code></pre></div>

<hr />
<h3 id="_8">â±ï¸ æ€§èƒ½ç›¸å…³<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<h4 id="11-elapsed">11. <code>elapsed</code><a class="headerlink" href="#11-elapsed" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>object</code> ï¼ˆtimedeltaï¼‰<br />
<strong>è¯´æ˜</strong>ï¼šè¯·æ±‚å“åº”æ—¶é—´å¯¹è±¡</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å“åº”æ—¶é—´æ ¡éªŒï¼ˆç§’ï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert elapsed.total_seconds &lt; 2.0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert elapsed.total_seconds &lt; 1.0, f&quot;å“åº”è¿‡æ…¢</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">elapsed.total_seconds</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">ç§’&quot;</span>

<span class="w">  </span><span class="c1"># æ¯«ç§’çº§åˆ«</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert elapsed.total_seconds * 1000 &lt; 500</span><span class="w">  </span><span class="c1"># 500ms</span>

<span class="w">  </span><span class="c1"># å¤æ‚æ¡ä»¶</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">response_time = elapsed.total_seconds</span>
<span class="w">    </span><span class="no">if response_time &gt; 2.0:</span>
<span class="w">        </span><span class="no">print(f&quot;è­¦å‘Šï¼šå“åº”æ—¶é—´è¿‡é•¿ {response_time}ç§’&quot;)</span>
<span class="w">    </span><span class="no">assert response_time &lt; 5.0, &quot;å“åº”è¶…æ—¶&quot;</span>
</code></pre></div>

<hr />
<h3 id="_9">ğŸ”§ ç¼–ç ç›¸å…³<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<h4 id="12-encoding">12. <code>encoding</code><a class="headerlink" href="#12-encoding" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>str</code> æˆ– <code>None</code><br />
<strong>è¯´æ˜</strong>ï¼šå“åº”çš„å­—ç¬¦ç¼–ç </p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert encoding == &quot;utf-8&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert encoding in [&quot;utf-8&quot;, &quot;UTF-8&quot;, None]</span>
</code></pre></div>

<hr />
<h3 id="_10">ğŸ“¡ å®Œæ•´å“åº”å¯¹è±¡<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<h4 id="13-response">13. <code>response</code><a class="headerlink" href="#13-response" title="Permanent link">&para;</a></h4>
<p><strong>ç±»å‹</strong>ï¼š<code>Response</code> ï¼ˆrequests.Response å¯¹è±¡ï¼‰<br />
<strong>è¯´æ˜</strong>ï¼šå®Œæ•´çš„ requests Response å¯¹è±¡</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># è®¿é—®æ‰€æœ‰ Response å±æ€§</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert response.status_code == 200</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert response.ok is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert response.headers[&quot;Content-Type&quot;] == &quot;application/json&quot;</span>

<span class="w">  </span><span class="c1"># Response å¯¹è±¡æ–¹æ³•</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert response.json()[&quot;success&quot;] is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(response.content) &gt; 0</span>
</code></pre></div>

<hr />
<h2 id="_11">é“¾å¼å–å€¼è¯¦è§£<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<h3 id="_12">ä»€ä¹ˆæ˜¯é“¾å¼å–å€¼ï¼Ÿ<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>é“¾å¼å–å€¼å…è®¸ä½ ä½¿ç”¨ç‚¹å· <code>.</code> è®¿é—®åµŒå¥—çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äº JavaScript ä¸­çš„å¯¹è±¡å±æ€§è®¿é—®ã€‚</p>
<h3 id="_13">åŸºç¡€é“¾å¼å–å€¼<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ä¸€çº§è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user is not None</span>

<span class="w">  </span><span class="c1"># äºŒçº§è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.name == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># ä¸‰çº§è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.profile.age &gt; 18</span>

<span class="w">  </span><span class="c1"># å››çº§åŠæ›´æ·±</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user.profile.contact.email == &quot;alice@example.com&quot;</span>
</code></pre></div>

<p><strong>å¯¹åº”çš„æ•°æ®ç»“æ„ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;contact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_14">æ•°ç»„ç´¢å¼•è®¿é—®<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># è®¿é—®æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ </span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.items[0].id is not None</span>

<span class="w">  </span><span class="c1"># è®¿é—®æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ </span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.items[-1].status == &quot;completed&quot;</span>

<span class="w">  </span><span class="c1"># åµŒå¥—æ•°ç»„è®¿é—®</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.users[0].orders[0].product_id == 123</span>
</code></pre></div>

<p><strong>å¯¹åº”çš„æ•°æ®ç»“æ„ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item 1&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item 2&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;users&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;orders&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;product_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_15">æ··åˆè®¿é—®<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å¯¹è±¡ -&gt; æ•°ç»„ -&gt; å¯¹è±¡ -&gt; å­—æ®µ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.users[0].profile.name == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># æ•°ç»„ -&gt; å¯¹è±¡ -&gt; æ•°ç»„ -&gt; å¯¹è±¡</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.orders[0].items[0].price &gt; 0</span>
</code></pre></div>

<h3 id="_16">é“¾å¼å–å€¼çš„ç±»å‹å®‰å…¨<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># âœ… æ¨èï¼šå…ˆæ£€æŸ¥å­˜åœ¨æ€§</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user is not None</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.name == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># âœ… æ¨èï¼šä½¿ç”¨æ¡ä»¶åˆ¤æ–­</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">if hasattr(content, &#39;user&#39;) and content.user:</span>
<span class="w">        </span><span class="no">assert content.user.name == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># âš ï¸ æ³¨æ„ï¼šç›´æ¥è®¿é—®å¯èƒ½æŠ¥é”™</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.non_existent_field.name == &quot;Alice&quot;</span><span class="w">  </span><span class="c1"># AttributeError</span>
</code></pre></div>

<h2 id="_17">å˜é‡è½¬ä¹‰åŠŸèƒ½<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<h3 id="_18">ä¸ºä»€ä¹ˆéœ€è¦å˜é‡è½¬ä¹‰ï¼Ÿ<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>å½“å“åº”æ•°æ®ä¸­çš„å­—æ®µåä¸å…¨å±€å˜é‡åŒåæ—¶ï¼Œä¼šäº§ç”Ÿæ­§ä¹‰ã€‚</p>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;è¿™æ˜¯å†…å®¹&quot;</span><span class="p">,</span><span class="w">       </span><span class="c1">// å­—æ®µåå« content</span>
<span class="w">    </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUCCESS&quot;</span><span class="w">     </span><span class="c1">// å­—æ®µåå« status_code</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>åœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_field_exists</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">field_name</span><span class="p">):</span>
    <span class="c1"># å¸Œæœ› field_name æ˜¯å­—ç¬¦ä¸² &quot;content&quot;</span>
    <span class="c1"># ä½†å¦‚æœä¼ é€’ contentï¼Œä¼šä¼ é€’å…¨å±€å˜é‡çš„å€¼ï¼ˆæ•´ä¸ªå“åº”ä½“ï¼‰</span>
    <span class="k">return</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">data</span>
</code></pre></div>

<h3 id="_19">è½¬ä¹‰è¯­æ³•<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>ä½¿ç”¨åæ–œæ  <code>\</code> å°†å…¨å±€å˜é‡è½¬ä¹‰ä¸ºå­—é¢é‡å­—ç¬¦ä¸²ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># content æ˜¯å…¨å±€å˜é‡ï¼ˆæ•´ä¸ªå“åº”ä½“ï¼‰</span>
<span class="w">  </span><span class="c1"># \content æ˜¯å­—ç¬¦ä¸² &quot;content&quot;ï¼ˆå­—æ®µåï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_field_exists(data, \content)}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_field_exists(data, \status_code)}</span>
</code></pre></div>

<h3 id="_20">æ”¯æŒè½¬ä¹‰çš„å…¨å±€å˜é‡<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>æ‰€æœ‰å…¨å±€å˜é‡éƒ½å¯ä»¥è½¬ä¹‰ï¼š
- <code>\content</code> â†’ å­—ç¬¦ä¸² <code>"content"</code>
- <code>\body</code> â†’ å­—ç¬¦ä¸² <code>"body"</code>
- <code>\text</code> â†’ å­—ç¬¦ä¸² <code>"text"</code>
- <code>\json</code> â†’ å­—ç¬¦ä¸² <code>"json"</code>
- <code>\status_code</code> â†’ å­—ç¬¦ä¸² <code>"status_code"</code>
- <code>\headers</code> â†’ å­—ç¬¦ä¸² <code>"headers"</code>
- <code>\cookies</code> â†’ å­—ç¬¦ä¸² <code>"cookies"</code>
- <code>\encoding</code> â†’ å­—ç¬¦ä¸² <code>"encoding"</code>
- <code>\ok</code> â†’ å­—ç¬¦ä¸² <code>"ok"</code>
- <code>\reason</code> â†’ å­—ç¬¦ä¸² <code>"reason"</code>
- <code>\url</code> â†’ å­—ç¬¦ä¸² <code>"url"</code></p>
<h3 id="_21">å®Œæ•´ç¤ºä¾‹<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p><strong>debugtalk.pyï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_data_not_null</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">field_count</span><span class="p">,</span> <span class="n">field_prefix</span><span class="p">,</span> <span class="n">field_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    æ£€æŸ¥æ•°æ®å­—æ®µä¸ä¸ºç©º</span>

<span class="sd">    Args:</span>
<span class="sd">        data: æ•°æ®å¯¹è±¡</span>
<span class="sd">        field_count: å­—æ®µæ•°é‡</span>
<span class="sd">        field_prefix: å­—æ®µå‰ç¼€</span>
<span class="sd">        field_name: å­—æ®µåï¼ˆéœ€è¦è½¬ä¹‰ï¼‰</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># å‡è®¾æ•°æ®ç»“æ„: {&quot;lines&quot;: &quot;...&quot;, &quot;content&quot;: &quot;...&quot;}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">field_count</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Missing field: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="c1"># æ£€æŸ¥ç‰¹å®šå­—æ®µ</span>
    <span class="k">assert</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Missing field: </span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>

<p><strong>æµ‹è¯•ç”¨ä¾‹ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># \content è½¬ä¹‰ä¸ºå­—ç¬¦ä¸² &quot;content&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_data_not_null(content.data.linesCollectList.data, 2, lines, \content)}</span>
</code></pre></div>

<h2 id="vs">å…¨å±€å˜é‡ vs è‡ªå®šä¹‰å˜é‡<a class="headerlink" href="#vs" title="Permanent link">&para;</a></h2>
<h3 id="_22">å…¨å±€å˜é‡<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p><strong>å®šä¹‰</strong>ï¼šç”± ApiMeter è‡ªåŠ¨æ³¨å…¥çš„å“åº”å˜é‡<br />
<strong>ä½¿ç”¨</strong>ï¼šç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å‰ç¼€</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å…¨å±€å˜é‡ï¼ˆæ— éœ€ $ å‰ç¼€ï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;Content-Type&quot;] == &quot;application/json&quot;</span>
</code></pre></div>

<h3 id="_23">è‡ªå®šä¹‰å˜é‡<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p><strong>å®šä¹‰</strong>ï¼šåœ¨æµ‹è¯•ç”¨ä¾‹ä¸­å®šä¹‰æˆ–æå–çš„å˜é‡<br />
<strong>ä½¿ç”¨</strong>ï¼šéœ€è¦ <code>$</code> å‰ç¼€æˆ–å¼•å·</p>
<div class="codehilite"><pre><span></span><code><span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">expected_status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">  </span><span class="nt">expected_token_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span>

<span class="nt">extract</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">content.token</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">user_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">content.user.id</span>

<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># âŒ é”™è¯¯ï¼šè‡ªå®šä¹‰å˜é‡ä¸èƒ½ç›´æ¥ä½¿ç”¨</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert token == &quot;xxx&quot;</span><span class="w">              </span><span class="c1"># NameError</span>

<span class="w">  </span><span class="c1"># âœ… æ­£ç¡®ï¼šéœ€è¦å¼•å·å’Œ $ å‰ç¼€</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;$token&quot; is not None</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(&quot;$token&quot;) == 16</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(&quot;$token&quot;) == $expected_token_length</span>

<span class="w">  </span><span class="c1"># âœ… æ­£ç¡®ï¼šåœ¨å‡½æ•°ä¸­å¼•ç”¨</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${validate_token($token)}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_user_id($user_id)}</span>
</code></pre></div>

<h3 id="_24">æ··åˆä½¿ç”¨<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">expected_code</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="nt">extract</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">content.token</span>

<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å…¨å±€å˜é‡</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.code == $expected_code</span>

<span class="w">  </span><span class="c1"># è‡ªå®šä¹‰å˜é‡ï¼ˆåœ¨å‡½æ•°ä¸­ï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${validate_token($token)}</span>

<span class="w">  </span><span class="c1"># å…¨å±€å˜é‡é“¾å¼å–å€¼</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.name is not None</span>
</code></pre></div>

<h2 id="_25">å¸¸è§ä½¿ç”¨åœºæ™¯<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h2>
<h3 id="1">åœºæ™¯ 1ï¼šåŸºç¡€å“åº”æ ¡éªŒ<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># çŠ¶æ€ç æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert ok is True</span>

<span class="w">  </span><span class="c1"># å“åº”å¤´æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;Content-Type&quot;] == &quot;application/json&quot;</span>

<span class="w">  </span><span class="c1"># å“åº”ä½“æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.code == 0</span>
</code></pre></div>

<h3 id="2">åœºæ™¯ 2ï¼šæ€§èƒ½ç›‘æ§<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å“åº”æ—¶é—´ç›‘æ§</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">response_time = elapsed.total_seconds</span>

<span class="w">    </span><span class="no"># è®°å½•æ…¢è¯·æ±‚</span>
<span class="w">    </span><span class="no">if response_time &gt; 1.0:</span>
<span class="w">        </span><span class="no">print(f&quot;âš ï¸ æ…¢è¯·æ±‚è­¦å‘Š: {url}, è€—æ—¶ {response_time}ç§’&quot;)</span>

<span class="w">    </span><span class="no"># æ–­è¨€æœ€å¤§å“åº”æ—¶é—´</span>
<span class="w">    </span><span class="no">assert response_time &lt; 5.0, f&quot;å“åº”è¶…æ—¶: {response_time}ç§’&quot;</span>

<span class="w">    </span><span class="no"># ä¸åŒæ¥å£ä¸åŒæ ‡å‡†</span>
<span class="w">    </span><span class="no">if &quot;/api/search&quot; in url:</span>
<span class="w">        </span><span class="no">assert response_time &lt; 2.0, &quot;æœç´¢æ¥å£å“åº”è¿‡æ…¢&quot;</span>
<span class="w">    </span><span class="no">else:</span>
<span class="w">        </span><span class="no">assert response_time &lt; 1.0, &quot;æ™®é€šæ¥å£å“åº”è¿‡æ…¢&quot;</span>
</code></pre></div>

<h3 id="3">åœºæ™¯ 3ï¼šå¤æ‚æ•°æ®æ ¡éªŒ<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ç”¨æˆ·æ•°æ®å®Œæ•´æ€§</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user is not None</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.id &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(content.user.name) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;@&quot; in content.user.email</span>

<span class="w">  </span><span class="c1"># è®¢å•æ•°æ®æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(content.orders) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">for order in content.orders:</span>
<span class="w">        </span><span class="no">assert order.get(&quot;id&quot;) is not None</span>
<span class="w">        </span><span class="no">assert order.get(&quot;amount&quot;) &gt; 0</span>
<span class="w">        </span><span class="no">assert order.get(&quot;status&quot;) in [&quot;pending&quot;, &quot;paid&quot;, &quot;completed&quot;]</span>
</code></pre></div>

<h3 id="4">åœºæ™¯ 4ï¼šæ¡ä»¶æ ¡éªŒ<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># æ ¹æ®ç”¨æˆ·ç±»å‹æ ¡éªŒ</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">if content.user.type == &quot;vip&quot;:</span>
<span class="w">        </span><span class="no">assert content.user.vip_level &gt; 0</span>
<span class="w">        </span><span class="no">assert content.user.vip_expires is not None</span>
<span class="w">        </span><span class="no">assert content.user.discount &gt;= 0.8</span>
<span class="w">    </span><span class="no">elif content.user.type == &quot;premium&quot;:</span>
<span class="w">        </span><span class="no">assert content.user.premium_features is not None</span>
<span class="w">        </span><span class="no">assert len(content.user.premium_features) &gt; 0</span>
<span class="w">    </span><span class="no">else:</span>
<span class="w">        </span><span class="no">assert content.user.ads_enabled is True</span>
</code></pre></div>

<h3 id="5api">åœºæ™¯ 5ï¼šAPI ç‰ˆæœ¬å…¼å®¹<a class="headerlink" href="#5api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å…¼å®¹å¤šä¸ª API ç‰ˆæœ¬</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no"># v1 å’Œ v2 API å“åº”ç»“æ„ä¸åŒ</span>
<span class="w">    </span><span class="no">if &quot;v1&quot; in url:</span>
<span class="w">        </span><span class="no">assert content.data.user_info is not None</span>
<span class="w">        </span><span class="no">user = content.data.user_info</span>
<span class="w">    </span><span class="no">elif &quot;v2&quot; in url:</span>
<span class="w">        </span><span class="no">assert content.user is not None</span>
<span class="w">        </span><span class="no">user = content.user</span>
<span class="w">    </span><span class="no">else:</span>
<span class="w">        </span><span class="no">raise ValueError(f&quot;Unknown API version in URL: {url}&quot;)</span>

<span class="w">    </span><span class="no"># é€šç”¨æ ¡éªŒ</span>
<span class="w">    </span><span class="no">assert user.id &gt; 0</span>
<span class="w">    </span><span class="no">assert user.name is not None</span>
</code></pre></div>

<h2 id="_26">æœ€ä½³å®è·µ<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h2>
<h3 id="1-content">1. ä¼˜å…ˆä½¿ç”¨ <code>content</code><a class="headerlink" href="#1-content" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âœ… æ¨èï¼šä½¿ç”¨ content</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>

<span class="c1"># âš ï¸ ä¹Ÿå¯ä»¥ï¼šä½¿ç”¨ body æˆ– json</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert body.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert json.success is True</span>
</code></pre></div>

<h3 id="2_1">2. é“¾å¼å–å€¼å‰å…ˆæ£€æŸ¥å­˜åœ¨æ€§<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âœ… æ¨èï¼šå…ˆæ£€æŸ¥å†è®¿é—®</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data is not None</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user is not None</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user.name == &quot;Alice&quot;</span>

<span class="c1"># âŒ ä¸æ¨èï¼šç›´æ¥æ·±å±‚è®¿é—®</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.data.user.name == &quot;Alice&quot;</span><span class="w">  </span><span class="c1"># å¯èƒ½ AttributeError</span>
</code></pre></div>

<h3 id="3_1">3. ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âœ… æ¨èï¼šæä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200, f&quot;æœŸæœ›çŠ¶æ€ç 200ï¼Œå®é™…</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">status_code</span><span class="p p-Indicator">}</span><span class="s">&quot;</span>
<span class="w">  </span><span class="s">-</span><span class="nv"> </span><span class="s">assert</span><span class="nv"> </span><span class="s">content.success</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">True,</span><span class="nv"> </span><span class="s">f&quot;</span><span class="nt">APIè°ƒç”¨å¤±è´¥</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">content.get(&#39;message&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;æœªçŸ¥é”™è¯¯&#39;</span><span class="nv">)</span><span class="p p-Indicator">}</span><span class="s">&quot;</span>

<span class="s">#</span><span class="nv"> </span><span class="s">âŒ</span><span class="nv"> </span><span class="s">ä¸æ¨èï¼šæ²¡æœ‰é”™è¯¯ä¿¡æ¯</span>
<span class="s">script:</span>
<span class="w">  </span><span class="s">-</span><span class="nv"> </span><span class="s">assert</span><span class="nv"> </span><span class="s">status_code</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">200</span>
<span class="w">  </span><span class="s">-</span><span class="nv"> </span><span class="s">assert</span><span class="nv"> </span><span class="s">content.success</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">True</span>
</code></pre></div>

<h3 id="4_1">4. æ€§èƒ½æ ¡éªŒè¦åˆç†<a class="headerlink" href="#4_1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âœ… æ¨èï¼šæ ¹æ®æ¥å£ç±»å‹è®¾ç½®ä¸åŒæ ‡å‡†</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">rt = elapsed.total_seconds</span>
<span class="w">    </span><span class="no">if &quot;/api/search&quot; in url:</span>
<span class="w">        </span><span class="no">assert rt &lt; 2.0, f&quot;æœç´¢æ¥å£æ…¢: {rt}s&quot;</span>
<span class="w">    </span><span class="no">elif &quot;/api/report&quot; in url:</span>
<span class="w">        </span><span class="no">assert rt &lt; 5.0, f&quot;æŠ¥è¡¨æ¥å£æ…¢: {rt}s&quot;</span>
<span class="w">    </span><span class="no">else:</span>
<span class="w">        </span><span class="no">assert rt &lt; 1.0, f&quot;æ™®é€šæ¥å£æ…¢: {rt}s&quot;</span>

<span class="c1"># âŒ ä¸æ¨èï¼šæ‰€æœ‰æ¥å£ä¸€åˆ€åˆ‡</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert elapsed.total_seconds &lt; 1.0</span>
</code></pre></div>

<h3 id="5">5. å˜é‡è½¬ä¹‰è°¨æ…ä½¿ç”¨<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># âœ… åªåœ¨éœ€è¦æ—¶ä½¿ç”¨è½¬ä¹‰</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># æ­£å¸¸æƒ…å†µï¼šç›´æ¥ä½¿ç”¨å…¨å±€å˜é‡</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>

<span class="w">  </span><span class="c1"># ç‰¹æ®Šæƒ…å†µï¼šå­—æ®µåä¸å…¨å±€å˜é‡å†²çªæ—¶æ‰è½¬ä¹‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_field_exists(data, \content)}</span>

<span class="c1"># âŒ ä¸è¦è¿‡åº¦ä½¿ç”¨è½¬ä¹‰</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${some_function(\status_code, \headers, \content)}</span><span class="w">  </span><span class="c1"># é€šå¸¸ä¸éœ€è¦</span>
</code></pre></div>

<h2 id="_27">å¸¸è§é—®é¢˜<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h2>
<h3 id="q1-contentfield-contentfield">Q1: ä¸ºä»€ä¹ˆ <code>content.field</code> å’Œ <code>content["field"]</code> éƒ½å¯ä»¥ï¼Ÿ<a class="headerlink" href="#q1-contentfield-contentfield" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> ApiMeter ä½¿ç”¨äº† <code>ResponseFieldProxy</code> ç±»ï¼Œæ”¯æŒä¸¤ç§è®¿é—®æ–¹å¼ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ç‚¹å·è®¿é—®ï¼ˆæ¨èï¼Œæ›´ç®€æ´ï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.user.name == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># å­—å…¸è®¿é—®ï¼ˆå­—æ®µååŒ…å«ç‰¹æ®Šå­—ç¬¦æ—¶ä½¿ç”¨ï¼‰</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content[&quot;user-name&quot;] == &quot;Alice&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content[&quot;content-type&quot;] == &quot;json&quot;</span>
</code></pre></div>

<h3 id="q2">Q2: å¦‚ä½•è®¿é—®å­—æ®µååŒ…å«ç‚¹å·æˆ–ç‰¹æ®Šå­—ç¬¦çš„å­—æ®µï¼Ÿ<a class="headerlink" href="#q2" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> ä½¿ç”¨å­—å…¸è®¿é—®æ–¹å¼ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># å­—æ®µå: &quot;user.name&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content[&quot;user.name&quot;] == &quot;Alice&quot;</span>

<span class="w">  </span><span class="c1"># å­—æ®µå: &quot;content-type&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert headers[&quot;content-type&quot;] == &quot;application/json&quot;</span>
</code></pre></div>

<h3 id="q3-contentbodyjson">Q3: <code>content</code>ã€<code>body</code>ã€<code>json</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<a class="headerlink" href="#q3-contentbodyjson" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> å®ƒä»¬åœ¨ ApiMeter ä¸­å®Œå…¨ç­‰ä»·ï¼Œéƒ½æŒ‡å‘è§£æåçš„å“åº”ä½“ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ä¸‰è€…å®Œå…¨ç­‰ä»·</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert body.success is True</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert json.success is True</span>
</code></pre></div>

<p><strong>å»ºè®®</strong>ï¼šç»Ÿä¸€ä½¿ç”¨ <code>content</code>ï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´ã€‚</p>
<h3 id="q4-json">Q4: å¦‚ä½•å¤„ç†å“åº”ä¸æ˜¯ JSON æ ¼å¼çš„æƒ…å†µï¼Ÿ<a class="headerlink" href="#q4-json" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> ä½¿ç”¨ <code>text</code> å˜é‡ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># HTML å“åº”</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;&lt;html&quot; in text</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;&lt;/body&gt;&quot; in text</span>

<span class="w">  </span><span class="c1"># XML å“åº”</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;&lt;?xml&quot; in text</span>

<span class="w">  </span><span class="c1"># çº¯æ–‡æœ¬å“åº”</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert len(text) &gt; 0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert &quot;success&quot; in text.lower()</span>
</code></pre></div>

<h3 id="q5-validate">Q5: å…¨å±€å˜é‡åœ¨ <code>validate</code> ä¸­å¯ä»¥ä½¿ç”¨å—ï¼Ÿ<a class="headerlink" href="#q5-validate" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> ä¸å¯ä»¥ã€‚å…¨å±€å˜é‡åªèƒ½åœ¨ <code>script</code> ä¸­ä½¿ç”¨ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># âŒ validate ä¸­ä¸æ”¯æŒ</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">content.success</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">]</span><span class="w">      </span><span class="c1"># ä¼šè¢«å½“ä½œå­—ç¬¦ä¸²</span>

<span class="c1"># âœ… script ä¸­æ”¯æŒ</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
</code></pre></div>

<h3 id="q6">Q6: å¦‚ä½•åœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Ÿ<a class="headerlink" href="#q6" title="Permanent link">&para;</a></h3>
<p><strong>A:</strong> ä½œä¸ºå‚æ•°ä¼ é€’ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># debugtalk.py</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">content_data</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">200</span>
    <span class="k">assert</span> <span class="n">content_data</span><span class="o">.</span><span class="n">success</span> <span class="ow">is</span> <span class="kc">True</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ä¼ é€’å…¨å±€å˜é‡ä½œä¸ºå‚æ•°</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${my_function(status_code, content)}</span>
</code></pre></div>

<h2 id="_28">ğŸ“ æ€»ç»“<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h2>
<p>ApiMeter çš„å…¨å±€å˜é‡ç³»ç»Ÿè®©å“åº”æ•°æ®è®¿é—®å˜å¾—ç®€å•ç›´è§‚ï¼š</p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>ç±»å‹</th>
<th>æœ€å¸¸ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>status_code</code></td>
<td>int</td>
<td>çŠ¶æ€ç æ ¡éªŒ</td>
</tr>
<tr>
<td><code>content</code></td>
<td>dict-like</td>
<td>å“åº”ä½“æ•°æ®æ ¡éªŒï¼ˆæœ€å¸¸ç”¨ï¼‰</td>
</tr>
<tr>
<td><code>headers</code></td>
<td>dict-like</td>
<td>å“åº”å¤´æ ¡éªŒ</td>
</tr>
<tr>
<td><code>cookies</code></td>
<td>dict-like</td>
<td>Cookie æ ¡éªŒ</td>
</tr>
<tr>
<td><code>elapsed</code></td>
<td>timedelta</td>
<td>æ€§èƒ½ç›‘æ§</td>
</tr>
<tr>
<td><code>ok</code></td>
<td>bool</td>
<td>è¯·æ±‚æˆåŠŸåˆ¤æ–­</td>
</tr>
<tr>
<td><code>url</code></td>
<td>str</td>
<td>URL æ ¡éªŒ</td>
</tr>
</tbody>
</table>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong>
- âœ… ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å‰ç¼€
- âœ… æ”¯æŒé“¾å¼å–å€¼
- âœ… æ”¯æŒå˜é‡è½¬ä¹‰
- âœ… ç±»å‹å®‰å…¨çš„ä»£ç†è®¿é—®</p>
<p><strong>ä¸‹ä¸€æ­¥å­¦ä¹ ï¼š</strong>
- <a href="../../prepare/script/">è‡ªå®šä¹‰è„šæœ¬æ ¡éªŒè¯¦è§£</a>
- <a href="../advanced-functions/">è‡ªå®šä¹‰å‡½æ•°é«˜çº§ç”¨æ³•</a>
- <a href="../../examples/advanced-examples/">é«˜çº§ç”¨æ³•ç¤ºä¾‹</a></p>
<hr />
<p><strong>æœ‰é—®é¢˜ï¼Ÿ</strong> æŸ¥çœ‹ <a href="../../FAQ/">FAQ</a> æˆ– <a href="https://git.umlife.net/utils/apimeter/issues">æäº¤ Issue</a></p>
                
                  
                
              

<!-- AIåŠ©æ‰‹æµ®çª—è„šæœ¬ -->
<script
async
defer
src="https://view.umlife.net/chat/api/embed?protocol=https&host=view.umlife.net&token=1d8f7ca0d76e223f">
</script>


              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 - 2025 debugtalk
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://git.umlife.net/utils/apimeter" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://git.umlife.net/utils/apimeter" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a353778b.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.6.1",url:{base:"../.."}})</script>
      
        <script src="../../js/slardar.js"></script>
      
    
  </body>
</html>