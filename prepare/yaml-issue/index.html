



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="ApiMeter User Documentation">
      
      
      
        <meta name="author" content="debugtalk">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-3.3.0">
    
    
      
        <title>常见格式问题 - ApiMeter 用户使用文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114587036-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-114587036-2")</script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#yaml" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ApiMeter 用户使用文档" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ApiMeter 用户使用文档
              </span>
              <span class="md-header-nav__topic">
                常见格式问题
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://git.umlife.net/utils/apimeter" title="前往 Github 仓库" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      ApiMeter
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="ApiMeter 用户使用文档" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ApiMeter 用户使用文档
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://git.umlife.net/utils/apimeter" title="前往 Github 仓库" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      ApiMeter
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="介绍" class="md-nav__link">
      介绍
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Installation/" title="安装说明" class="md-nav__link">
      安装说明
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../quickstart/" title="快速上手" class="md-nav__link">
      快速上手
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      基础概念
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        基础概念
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../concept/nominal/" title="名词解释" class="md-nav__link">
      名词解释
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      测试准备
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        测试准备
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../record/" title="录制生成用例" class="md-nav__link">
      录制生成用例
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../project-structure/" title="项目文件组织" class="md-nav__link">
      项目文件组织
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../testcase-structure/" title="测试用例组织" class="md-nav__link">
      测试用例组织
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../request-hook/" title="hook机制" class="md-nav__link">
      hook机制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dot-env/" title="环境变量" class="md-nav__link">
      环境变量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../testcase-layer/" title="测试用例分层" class="md-nav__link">
      测试用例分层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../parameters/" title="参数化数据驱动" class="md-nav__link">
      参数化数据驱动
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../validate/" title="校验器用法" class="md-nav__link">
      校验器用法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../script/" title="自定义脚本校验" class="md-nav__link">
      自定义脚本校验
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pretty/" title="用例格式化" class="md-nav__link">
      用例格式化
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        常见格式问题
      </label>
    
    <a href="./" title="常见格式问题" class="md-nav__link md-nav__link--active">
      常见格式问题
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#yaml_1" title="一、YAML语法排查" class="md-nav__link">
    一、YAML语法排查
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1ideyaml" title="1、IDE内置YAML语法高亮" class="md-nav__link">
    1、IDE内置YAML语法高亮
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" title="2、内置命令，一键排查" class="md-nav__link">
    2、内置命令，一键排查
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" title="二、常见错误概览" class="md-nav__link">
    二、常见错误概览
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="三、常见问题示例" class="md-nav__link">
    三、常见问题示例
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" title="1、校验器错误写法 ❌" class="md-nav__link">
    1、校验器错误写法 ❌
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="报错信息" class="md-nav__link">
    报错信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_1" title="✅ 正确写法1：单行格式（加引号）" class="md-nav__link">
    ✅ 正确写法1：单行格式（加引号）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" title="✅ 正确写法2：多行格式（推荐）" class="md-nav__link">
    ✅ 正确写法2：多行格式（推荐）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" title="2、字典参数错误写法 ❌" class="md-nav__link">
    2、字典参数错误写法 ❌
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" title="报错信息" class="md-nav__link">
    报错信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_2" title="✅ 正确写法1：使用双引号和转义" class="md-nav__link">
    ✅ 正确写法1：使用双引号和转义
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" title="✅ 正确写法2：使用双引号+单引号" class="md-nav__link">
    ✅ 正确写法2：使用双引号+单引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" title="✅ 正确写法3：使用双引号" class="md-nav__link">
    ✅ 正确写法3：使用双引号
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml_2" title="四、YAML用例正确语法姿势" class="md-nav__link">
    四、YAML用例正确语法姿势
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" title="1、各种函数调用的正确写法" class="md-nav__link">
    1、各种函数调用的正确写法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_4" title="2、包含列表参数的函数调用的正确写法" class="md-nav__link">
    2、包含列表参数的函数调用的正确写法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" title="3、全局变量正确用法" class="md-nav__link">
    3、全局变量正确用法
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apimeter" title="APIMeter提供以下内置全局变量，无需使用$前缀" class="md-nav__link">
    APIMeter提供以下内置全局变量，无需使用$前缀
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" title="✅ 正确使用方式" class="md-nav__link">
    ✅ 正确使用方式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="❌ 错误写法" class="md-nav__link">
    ❌ 错误写法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="当数据字段与全局变量同名时，使用反斜杠\转义" class="md-nav__link">
    当数据字段与全局变量同名时，使用反斜杠\转义
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" title="✅ 正确使用转义" class="md-nav__link">
    ✅ 正确使用转义
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="❌ 错误写法" class="md-nav__link">
    ❌ 错误写法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" title="4、引号正确使用规则" class="md-nav__link">
    4、引号正确使用规则
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" title="何时必须使用引号" class="md-nav__link">
    何时必须使用引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="✅ 正确示例" class="md-nav__link">
    ✅ 正确示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" title="❌ 错误示例" class="md-nav__link">
    ❌ 错误示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" title="五、最佳实践" class="md-nav__link">
    五、最佳实践
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" title="🔧 附录：测试用例模板" class="md-nav__link">
    🔧 附录：测试用例模板
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="信息安全" class="md-nav__link">
      信息安全
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upload-case/" title="文件上传场景" class="md-nav__link">
      文件上传场景
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      测试执行
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        测试执行
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/cli/" title="运行测试(CLI)" class="md-nav__link">
      运行测试(CLI)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/report/" title="测试报告" class="md-nav__link">
      测试报告
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../run-tests/load-test/" title="性能测试" class="md-nav__link">
      性能测试
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      开发扩展
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        开发扩展
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/architecture/" title="Pipline" class="md-nav__link">
      Pipline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/dev-api/" title="基础库调用" class="md-nav__link">
      基础库调用
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      实践案例
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        实践案例
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/testerhome-login/" title="TesterHome 登录" class="md-nav__link">
      TesterHome 登录
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/demo-klook/" title="klook" class="md-nav__link">
      klook
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../related-docs/" title="相关资料" class="md-nav__link">
      相关资料
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CHANGELOG/" title="CHANGELOG" class="md-nav__link">
      CHANGELOG
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#yaml_1" title="一、YAML语法排查" class="md-nav__link">
    一、YAML语法排查
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1ideyaml" title="1、IDE内置YAML语法高亮" class="md-nav__link">
    1、IDE内置YAML语法高亮
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" title="2、内置命令，一键排查" class="md-nav__link">
    2、内置命令，一键排查
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" title="二、常见错误概览" class="md-nav__link">
    二、常见错误概览
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="三、常见问题示例" class="md-nav__link">
    三、常见问题示例
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" title="1、校验器错误写法 ❌" class="md-nav__link">
    1、校验器错误写法 ❌
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="报错信息" class="md-nav__link">
    报错信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_1" title="✅ 正确写法1：单行格式（加引号）" class="md-nav__link">
    ✅ 正确写法1：单行格式（加引号）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" title="✅ 正确写法2：多行格式（推荐）" class="md-nav__link">
    ✅ 正确写法2：多行格式（推荐）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" title="2、字典参数错误写法 ❌" class="md-nav__link">
    2、字典参数错误写法 ❌
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" title="报错信息" class="md-nav__link">
    报错信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_2" title="✅ 正确写法1：使用双引号和转义" class="md-nav__link">
    ✅ 正确写法1：使用双引号和转义
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" title="✅ 正确写法2：使用双引号+单引号" class="md-nav__link">
    ✅ 正确写法2：使用双引号+单引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" title="✅ 正确写法3：使用双引号" class="md-nav__link">
    ✅ 正确写法3：使用双引号
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml_2" title="四、YAML用例正确语法姿势" class="md-nav__link">
    四、YAML用例正确语法姿势
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" title="1、各种函数调用的正确写法" class="md-nav__link">
    1、各种函数调用的正确写法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_4" title="2、包含列表参数的函数调用的正确写法" class="md-nav__link">
    2、包含列表参数的函数调用的正确写法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" title="3、全局变量正确用法" class="md-nav__link">
    3、全局变量正确用法
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apimeter" title="APIMeter提供以下内置全局变量，无需使用$前缀" class="md-nav__link">
    APIMeter提供以下内置全局变量，无需使用$前缀
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" title="✅ 正确使用方式" class="md-nav__link">
    ✅ 正确使用方式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="❌ 错误写法" class="md-nav__link">
    ❌ 错误写法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="当数据字段与全局变量同名时，使用反斜杠\转义" class="md-nav__link">
    当数据字段与全局变量同名时，使用反斜杠\转义
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" title="✅ 正确使用转义" class="md-nav__link">
    ✅ 正确使用转义
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="❌ 错误写法" class="md-nav__link">
    ❌ 错误写法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" title="4、引号正确使用规则" class="md-nav__link">
    4、引号正确使用规则
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" title="何时必须使用引号" class="md-nav__link">
    何时必须使用引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="✅ 正确示例" class="md-nav__link">
    ✅ 正确示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" title="❌ 错误示例" class="md-nav__link">
    ❌ 错误示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" title="五、最佳实践" class="md-nav__link">
    五、最佳实践
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" title="🔧 附录：测试用例模板" class="md-nav__link">
    🔧 附录：测试用例模板
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="yaml">YAML 用例语法格式注意事项<a class="headerlink" href="#yaml" title="Permanent link">&para;</a></h1>
<p>APIMeter测试用例格式是基于YAML，YAML本身有自己语法要求，加上测试用例中包含自定义变量、全局变量转义、自定义函数、列表参数、对象参数、复杂嵌套对象参数、链式参数、正则参数等内容，写测试用例有时会遇到用例文件解析失败的语法问题，因此梳理一下常见的错误写法格式，汇总为一份YAML用例语法格式注意事项文档，方便大家避坑和排查问题。</p>
<h2 id="yaml_1">一、YAML语法排查<a class="headerlink" href="#yaml_1" title="Permanent link">&para;</a></h2>
<h3 id="1ideyaml">1、IDE内置YAML语法高亮<a class="headerlink" href="#1ideyaml" title="Permanent link">&para;</a></h3>
<p>如果用例存在语法高亮异常不规则，则说明存在YAML语法问题，需要纠正</p>
<h3 id="2">2、内置命令，一键排查<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Validate YAML/JSON api/testcase/testsuite format.</span>
apimeter<span class="w"> </span>--validate<span class="w"> </span><span class="o">[</span>VALIDATE<span class="w"> </span>...<span class="o">]</span>

<span class="c1"># Example: testcase file</span>
apimeter<span class="w"> </span>--validate<span class="w"> </span>api/youcloud/account/query_areaCodeList_api.yml

<span class="c1"># Example: testcase folder</span>
apimeter<span class="w"> </span>--validate<span class="w"> </span>api/youcloud/account
</code></pre></div>

<h2 id="_1">二、常见错误概览<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>错误信息</th>
<th>可能原因</th>
<th>解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mapping values are not allowed here</code></td>
<td>函数参数中的<code>{}</code>被误认为字典</td>
<td>用引号包围整个函数调用</td>
</tr>
<tr>
<td><code>while parsing a flow sequence</code></td>
<td>列表语法中特殊字符未处理</td>
<td>使用多行格式或加引号</td>
</tr>
<tr>
<td><code>found undefined tag handle</code></td>
<td>变量引用格式错误</td>
<td>检查<code>${}</code>格式和变量名</td>
</tr>
<tr>
<td><code>VariableNotFound、FunctionNotFound</code></td>
<td>变量、函数未定义或引用错误</td>
<td>检查变量、函数定义和引用语法</td>
</tr>
</tbody>
</table>
<h2 id="_2">三、常见问题示例<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="1">1、校验器错误写法 ❌<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">$</span><span class="p p-Indicator">{</span><span class="nv">validate_token($token)</span><span class="p p-Indicator">},</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># YAML的列表（数组）包含特殊字符的函数调用时，会导致语法错误</span>
</code></pre></div>

<h4 id="_3">报错信息<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>ERROR<span class="w">    </span><span class="k">while</span><span class="w"> </span>parsing<span class="w"> </span>a<span class="w"> </span>flow<span class="w"> </span>sequence
expected<span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w"> </span>or<span class="w"> </span><span class="s1">&#39;]&#39;</span>,<span class="w"> </span>but<span class="w"> </span>got<span class="w"> </span><span class="s1">&#39;{&#39;</span>
</code></pre></div>

<h4 id="1_1">✅ 正确写法1：单行格式（加引号）<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;${validate_token($token)}&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h4 id="2_1">✅ 正确写法2：多行格式（推荐）<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${validate_token($token)}</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>

<h3 id="2_2">2、字典参数错误写法 ❌<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${get_sign_v3({device_sn</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$device_sn, os_platform</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$os_platform})}</span><span class="w"> </span><span class="c1"># 函数参数包含花括号 `{}` 时，YAML解析器会将其误认为是字典定义，导致语法错误</span>
</code></pre></div>

<h4 id="_4">报错信息<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>ERROR<span class="w">    </span>mapping<span class="w"> </span>values<span class="w"> </span>are<span class="w"> </span>not<span class="w"> </span>allowed<span class="w"> </span>here
</code></pre></div>

<h4 id="1_2">✅ 正确写法1：使用双引号和转义<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${get_sign_v3({\&quot;device_sn\&quot;:</span><span class="nv"> </span><span class="s">$device_sn,</span><span class="nv"> </span><span class="s">\&quot;os_platform\&quot;:</span><span class="nv"> </span><span class="s">$os_platform})}&quot;</span>
</code></pre></div>

<h4 id="2_3">✅ 正确写法2：使用双引号+单引号<a class="headerlink" href="#2_3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${get_sign_v3({&#39;device_sn&#39;:</span><span class="nv"> </span><span class="s">$device_sn,</span><span class="nv"> </span><span class="s">&#39;os_platform&#39;:</span><span class="nv"> </span><span class="s">$os_platform})}&quot;</span>
</code></pre></div>

<h4 id="3">✅ 正确写法3：使用双引号<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${get_sign_v3({device_sn:</span><span class="nv"> </span><span class="s">$device_sn,</span><span class="nv"> </span><span class="s">os_platform:</span><span class="nv"> </span><span class="s">$os_platform})}&quot;</span><span class="w"> </span><span class="c1"># YAML原生字典语法（推荐）</span>
</code></pre></div>

<h2 id="yaml_2">四、YAML用例正确语法姿势<a class="headerlink" href="#yaml_2" title="Permanent link">&para;</a></h2>
<h3 id="1_3">1、各种函数调用的正确写法<a class="headerlink" href="#1_3" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">teststeps</span><span class="p">:</span>
<span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test functions</span>
<span class="w">    </span><span class="nt">validate</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># 简单函数调用 - 无需引号</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">$</span><span class="p p-Indicator">{</span><span class="nv">get_timestamp()</span><span class="p p-Indicator">},</span><span class="w"> </span><span class="nv">1234567890</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="c1"># 复杂函数调用 - 需要引号</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;${validate_data({\&quot;key\&quot;:</span><span class="nv"> </span><span class="s">$value})}&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="c1"># 列表参数 - 需要引号</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;${process_list([$item1,</span><span class="nv"> </span><span class="s">$item2])}&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;success&quot;</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="c1"># 多行格式 - 总是安全</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${complex_function($param1, $param2)}</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">expected_result</span>
</code></pre></div>

<h3 id="2_4">2、包含列表参数的函数调用的正确写法<a class="headerlink" href="#2_4" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${get_sign($device_sn, $os_platform, $app_version)}</span>
<span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${get_sign_v2([$device_sn,</span><span class="nv"> </span><span class="s">$os_platform,</span><span class="nv"> </span><span class="s">$app_version])}&quot;</span>
<span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${get_sign_v2([$device_sn, $os_platform, $app_version])}</span>
</code></pre></div>

<h3 id="3_1">3、全局变量正确用法<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h3>
<h4 id="apimeter">APIMeter提供以下内置全局变量，无需使用<code>$</code>前缀<a class="headerlink" href="#apimeter" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># 内置全局变量列表</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">content / body / text / json</span><span class="w">    </span><span class="c1"># 响应体数据</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">status_code</span><span class="w">                     </span><span class="c1"># HTTP状态码</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">headers</span><span class="w">                         </span><span class="c1"># 响应头</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cookies</span><span class="w">                         </span><span class="c1"># Cookie信息</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elapsed</span><span class="w">                         </span><span class="c1"># 请求耗时</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">encoding / ok / reason / url</span><span class="w">    </span><span class="c1"># 其他响应信息</span>
</code></pre></div>

<h5 id="_5">✅ <strong>正确使用方式</strong><a class="headerlink" href="#_5" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="c1"># 直接使用全局变量</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">status_code</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">200</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">content.token</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">$expected_token</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">headers.content-type</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p p-Indicator">]</span>
<span class="c1"># 在函数中引用全局变量</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${validate_response(content)}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_headers(headers)}</span>
</code></pre></div>

<h5 id="_6">❌ <strong>错误写法</strong><a class="headerlink" href="#_6" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="c1"># 全局变量前加$符号</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">$status_code</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">200</span><span class="p p-Indicator">]</span><span class="w">        </span><span class="c1"># 错误！</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">$content.token</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p p-Indicator">]</span><span class="w">    </span><span class="c1"># 错误！</span>
</code></pre></div>

<h4 id="_7">当数据字段与全局变量同名时，使用反斜杠<code>\</code>转义<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<h5 id="_8">✅ <strong>正确使用转义</strong><a class="headerlink" href="#_8" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="c1"># 当响应数据中有名为&quot;content&quot;的字段时</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_data_not_null(content.data.lines, \content)}</span><span class="w">  </span><span class="c1"># \content 表示字符串 &quot;content&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="c1"># 支持转义所有全局变量</span>
<span class="nt">script</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${validate_field_name(\status_code, \headers, \content)}</span>
</code></pre></div>

<h5 id="_9">❌ <strong>错误写法</strong><a class="headerlink" href="#_9" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="c1"># 直接使用会被解析为全局变量而非字面量</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${check_field_name(content.data, content)}</span><span class="w">  </span><span class="c1"># content被解析为全局变量值</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>

<h3 id="4">4、引号正确使用规则<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<h4 id="_10"><strong>何时必须使用引号</strong><a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>包含花括号<code>{}</code>的函数调用</strong></li>
<li><strong>包含方括号<code>[]</code>的函数调用</strong>  </li>
<li><strong>单行列表格式中的复杂表达式</strong></li>
<li><strong>包含冒号<code>:</code>的字符串值</strong></li>
</ol>
<h4 id="_11">✅ <strong>正确示例</strong><a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># 字典参数必须加引号</span>
<span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${get_sign({device:</span><span class="nv"> </span><span class="s">$device_sn})}&quot;</span>

<span class="c1"># 包含冒号的值必须加引号</span>
<span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://example.com:8080/api&quot;</span>

<span class="c1"># 单行校验器必须加引号</span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;${complex_func($param)}&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;expected&quot;</span><span class="p p-Indicator">]</span>

<span class="c1"># 列表参数建议加引号</span>
<span class="nt">data</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${process_list([$item1,</span><span class="nv"> </span><span class="s">$item2])}&quot;</span><span class="w">  </span>
</code></pre></div>

<h4 id="_12">❌ <strong>错误示例</strong><a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># 字典参数无引号 - 解析错误</span>
<span class="nt">sign</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${get_sign({device</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$device_sn})}</span>

<span class="c1"># 单行校验器无引号 - 解析错误  </span>
<span class="nt">validate</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">$</span><span class="p p-Indicator">{</span><span class="nv">func($param)</span><span class="p p-Indicator">},</span><span class="w"> </span><span class="s">&quot;expected&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h2 id="_13">五、最佳实践<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>检验器优先使用多行格式</strong>：更清晰，不容易出错</li>
<li><strong>复杂参数统一加引号</strong>：包含 <code>{}[]</code> 等特殊字符时</li>
<li><strong>保持团队脚本风格一致</strong>：在同一个项目中使用统一的风格</li>
<li><strong>及时测试验证语法</strong>：修改YAML后及时验证语法正确性</li>
<li><strong>最后提醒</strong>：遇到语法错误时，首先检查引号使用和格式规范，90%的问题都能快速解决！ 🎯 </li>
</ol>
<h2 id="_14">🔧 附录：测试用例模板<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="nt">teststeps</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;基础用例模板&quot;</span>
<span class="w">    </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">        </span><span class="nt">expected_status</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class="w">        </span><span class="nt">expected_field</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;success&quot;</span>

<span class="w">    </span><span class="nt">request</span><span class="p">:</span>
<span class="w">        </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/api/endpoint&quot;</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class="w">        </span><span class="nt">headers</span><span class="p">:</span>
<span class="w">        </span><span class="nt">Authorization</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Bearer</span><span class="nv"> </span><span class="s">${get_auth_token($user_id)}&quot;</span>

<span class="w">    </span><span class="nt">validate</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">status_code</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">$expected_status</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">content.status</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">$expected_field</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">eq</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;${validate_response_format(content)}&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">script</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert status_code == 200</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assert content.success is True</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${log_response_time(elapsed.total_seconds)}</span>
</code></pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../pretty/" title="用例格式化" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                用例格式化
              </span>
            </div>
          </a>
        
        
          <a href="../security/" title="信息安全" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                信息安全
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 - 2025 debugtalk
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://git.umlife.net/utils/apimeter" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://git.umlife.net/utils/apimeter" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a353778b.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.6.1",url:{base:"../.."}})</script>
      
        <script src="../../js/slardar.js"></script>
      
    
  </body>
</html>